---
title: "Midterm Project Part Two"
author: "Madeline Greene"
output: html_document
---
<!-- Remember to set a custom THEME and HIGHLIGHTING in the YAML front matter above -->

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)

### All libraries must be loaded in this chunk
### Any global options you'd like to set (a global ggplot theme for example) should go here
```



## Load Data

```{r}
## Read in and save your two tidy CSV files here for downstream use. 
## Show their output with head() for reproduciblity!
read_csv("treatment_results.csv") -> treatment_results
head(treatment_results)
read_csv("plot_bites.csv") -> plot_bites
head(plot_bites)
```


## Figure 3B

```{r}
## Code to prepare data for plotting goes here. 
## It should save a dataset you can use to plot in the next chunk.
plot_bites %>%
  filter(family == c("Acanthuridae", "Scaridae"), treatment == c("Full", "Partial", "Control")) %>% 
  #only need the two families according to previos graph and then filtered all treatment types
  select(treatment,family,timeCorrBites) -> new_bites_hour
  #out of all the columns, only needed treatment, family, and timeCorrBites

head(new_bites_hour)
#making sure it has all necessary components for graph
```

```{r}
## plot the data here.
## ensure an appropriate figure size and legible output by setting the fig.width and fig.height for this chunk
new_bites_hour %>%
  ggplot(aes(x = family, y= timeCorrBites)) +
  geom_jitter(aes(color=treatment), alpha=0.5)+ #used alpha so can guarantee seeing all of the points
  scale_color_brewer(palette= "Dark2") + #colorblind friendly palette
  labs(x = "Family", y = "Bites Per Minute", color = "Treatment") ->figure3b 
  #as per the metadata, it is by minute not hour

figure3b

```

The data here was very hard to interpret from the figure they provided us with. I believe that the metadata sheet and the figures did not correspond correctly with each other. When viewing the data, it appears that both families had a lot of the same results of 0 bites per minute. Because I am not knowledgeable about this specific data, I cannot tell if that is normal or an error of results. There were a few outliers, such as the Acanthuridae family with one result of over 150 bites per minute. I believe that a jitter plot was appropriate to display this data because it was able to show compare both families and provide exact points of the recorded data.  

## Figure 5B

```{r, fig.width= 4, fig.height=5}
## Code to prepare data for plotting goes here. 
## It should save a dataset you can use to plot in the next chunk.

treatment_results %>%
  filter(Species == "artCal") %>% 
  #only selecting articulated calcareous algae
  select(Species, treatment, Month, Year, Percent_cover) -> new_artcal_results
  #figure will need the species, month/year, percent cover

head(new_artcal_results)
#making sure it has all necessary components for figure
```

```{r, fig.width=10, fig.height=5}
## plot the data here.
## ensure an appropriate figure size and legible output by setting the fig.width and fig.height for this chunk

new_artcal_results %>%
  ggplot(aes(x = Month, y = Percent_cover, fill= treatment)) +
  geom_boxplot() +
  #would be able to show outliers in this form of graph as well as average
  facet_grid(~Year)+
  #wanted the years next to eachother to observe year difference
  scale_fill_brewer(palette= "Dark2") +
  #colorblind friendly palette 
  theme(strip.background = element_rect(fill = "honeydew3")) +
  #felt like switching up the header color
  labs(y = "Percent Cover (%)", fill = "Treatment") -> figure_5b

figure_5b
```


By viewing the boxplot that was just created, it shows that the full treatment has the highest values over the three types of treatments. This conclusion is the same as the original figure provided for this data. I believe that this form of visualization helps understand the data more than the original figure because it provides more information such as outliers and the mean. 


## Figure 6A

```{r}
## Code to prepare data for plotting goes here. 
## It should save a dataset you can use to plot in the next chunk.

treatment_results %>%
 mutate(Morph = case_when(morph == "mound.crust" ~ "Mounding & Encrusting Corals", morph == "branch" ~ "Branching Corals")) %>%
  drop_na(Morph) %>%
  #removed NAs
  select(- morph) %>%
  #removed column since created a new one with new names
  select(Morph, growth, treatment) -> new_morph
  #only shows what I will be graphing so it is cleaner to look like and when deciding how to wrangle data
  
new_morph
```

```{r}
## plot the data here.
## ensure an appropriate figure size and legible output by setting the fig.width and fig.height for this chunk

new_morph %>%
  ggplot(aes(x = Morph, y = growth, fill = treatment)) +
  geom_violin() +
  #would show distribution of data
  scale_fill_brewer(palette = "Dark2") +
  #colorblind friendly
  labs(y = "Change in Live Tissue Area", fill = "Treatment")
```


Replace this text with a few sentences intepreting your figure, **according to the directions!**



## Figure Z

```{r}
## Code to prepare data for plotting goes here. 
## It should save a dataset you can use to plot in the next chunk.
```

```{r}
## plot the data here.
## ensure an appropriate figure size and legible output by setting the fig.width and fig.height for this chunk
```


Replace this text with a few sentences intepreting your figure, **according to the directions!**


<!-- 
Remove the overall HTML comment if you want to do the bonus. 

## BONUS FIGURE

```{r}
## Code to prepare data for plotting goes here. 
## It should save a dataset you can use to plot in the next chunk.
```

```{r}
## plot the data here.
## ensure an appropriate figure size and legible output by setting the fig.width and fig.height for this chunk
```


Replace this text with a few sentences intepreting your figure, **according to the directions!**

-->